<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>¬°Gracias por tu compra!</title>

    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/gracias.css" />

    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>

<body>
    <div id="tsparticles"></div>

    <main class="reveal">
        <h1>¬°Gracias por tu compra! üíô</h1>
        <p>
            Tu pago fue procesado con √©xito.<br>
            En breve recibir√°s un correo con el acceso a Tu Voz Propia.
        </p>
        <a href="index.html" class="btn-volver">Volver al inicio</a>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {

            // ‚≠ê TRAER EMAIL DEL CLIENTE DESDE localStorage
            const emailCliente = localStorage.getItem("emailCliente");

            if (!emailCliente) {
                console.warn("No se encontr√≥ el email del cliente en localStorage");
                return;
            }

            // ‚≠ê INICIALIZAR EMAILJS
            emailjs.init("iDIf71qi_pTiPWsw3");

            const serviceID = "service_9tc160p";
            const templateID = "template_5lun07j";

            // ‚≠ê ENVIAR EMAIL
            emailjs.send(serviceID, templateID, {
                to_email: emailCliente,
                course_link: "https://www.notion.so/Tu-Portal-Expres-so-a-Hogwarts-la-magia-comienza-con-estrategia-y-comunicaci-n-correcta-281d3a71a4b680b9a57ede46640f3bdd"
            })
                .then(() => console.log("‚úÖ Email enviado a", emailCliente))
                .catch(err => console.error("‚ùå Error enviando email:", err));

            // ‚≠ê PARTICULAS
            tsParticles.load("tsparticles", {
                background: { color: { value: "transparent" } },
                fpsLimit: 60,
                interactivity: {
                    events: { onHover: { enable: true, mode: "repulse" }, resize: true },
                    modes: { repulse: { distance: 100, duration: 0.4 } }
                },
                particles: {
                    color: { value: ["#6c63ff", "#8c7bff", "#a09bff"] },
                    links: { enable: false },
                    move: { enable: true, speed: 0.8, outModes: { default: "bounce" } },
                    number: { value: 50, density: { enable: true, area: 800 } },
                    opacity: { value: 0.4 },
                    shape: { type: "circle" },
                    size: { value: { min: 1, max: 5 } }
                },
                detectRetina: true
            });
        });
    </script>

</body>

</html>
