<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>¬°Gracias por tu compra!</title>

    <!-- üîó Estilos -->
    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/gracias.css" />

    <!-- üí´ Librer√≠as -->
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>

<body>
    <!-- Part√≠culas de fondo -->
    <div id="tsparticles"></div>

    <main class="reveal">
        <h1>¬°Gracias por tu compra, <span id="nombreClienteSpan">amigo/a</span>! üíô</h1>
        <p>
            Tu pago fue procesado con √©xito.<br />
            En breve recibir√°s un correo con todos los detalles de tu mentor√≠a personalizada.
        </p>
        <a href="index.html" class="btn-volver">Volver al inicio</a>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {

            const emailCliente = document.getElementById("emailCliente").value.trim();
            if (!emailCliente) {
                alert("Por favor, ingres√° tu correo antes de continuar.");
                return false;
            }
            localStorage.setItem("emailCliente", emailCliente);
            return true;


            // Inicializar EmailJS

            emailjs.init("iDIf71qi_pTiPWsw3"); // tu UserID de EmailJS

            const serviceID = "service_9tc160p";      // tu Service ID
            const templateID = "template_kozjt7o"; // nombre de tu template en EmailJS

            if (emailCliente) {
                emailjs.send(serviceID, templateID, {
                    to_email: emailCliente,       // aqu√≠ va el correo del cliente
                    curso: "Mentor√≠a Personalizada",
                    link_curso: "https://www.notion.so/Tu-voz-propia-2b6d3a71a4b6814d9518e16569e1eceb"
                }).then(() => {
                    console.log("‚úÖ Email enviado al cliente");
                }, (err) => {
                    console.error("‚ùå Error enviando email:", err);
                });
            }



            // Part√≠culas
            tsParticles.load("tsparticles", {
                background: { color: { value: "transparent" } },
                fpsLimit: 60,
                interactivity: {
                    events: { onHover: { enable: true, mode: "repulse" }, resize: true },
                    modes: { repulse: { distance: 100, duration: 0.4 } }
                },
                particles: {
                    color: { value: ["#6c63ff", "#8c7bff", "#a09bff"] },
                    links: { enable: false },
                    move: { enable: true, speed: 0.8, outModes: { default: "bounce" } },
                    number: { value: 50, density: { enable: true, area: 800 } },
                    opacity: { value: 0.4 },
                    shape: { type: "circle" },
                    size: { value: { min: 1, max: 5 } }
                },
                detectRetina: true
            });
        });
    </script>
</body>

</html>